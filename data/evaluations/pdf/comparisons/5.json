{
  "prompt": "I want to create a professional-looking PDF invoice from scratch with my company logo, customer details, and an itemized table. Can you show me how?",
  "baseline_response": "I'll provide a Python script using the `reportlab` library to create a professional PDF invoice. Here's a comprehensive example:\n\n```python\nfrom reportlab.lib import colors\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.platypus import SimpleDocTemplate, Table, TableStyle, Paragraph, Spacer\nfrom reportlab.lib.styles import getSampleStyleSheet\nfrom datetime import date\n\ndef create_invoice(customer_info, invoice_items, logo_path):\n    # Create PDF document\n    pdf_filename = f\"Invoice_{date.today()}.pdf\"\n    doc = SimpleDocTemplate(pdf_filename, pagesize=letter)\n    \n    # Styles\n    styles = getSampleStyleSheet()\n    \n    # Content elements\n    elements = []\n    \n    # Company Logo\n    from reportlab.platypus import Image\n    logo = Image(logo_path, width=150, height=75)\n    elements.append(logo)\n    \n    # Invoice Header\n    elements.append(Paragraph(f\"Invoice Date: {date.today()}\", styles['Normal']))\n    elements.append(Paragraph(f\"Invoice Number: INV-{date.today().strftime('%Y%m%d')}\", styles['Normal']))\n    \n    # Customer Information\n    elements.append(Paragraph(\"Bill To:\", styles['Heading3']))\n    elements.append(Paragraph(f\"Name: {customer_info['name']}\", styles['Normal']))\n    elements.append(Paragraph(f\"Address: {customer_info['address']}\", styles['Normal']))\n    elements.append(Paragraph(f\"Email: {customer_info['email']}\", styles['Normal']))\n    \n    elements.append(Spacer(1, 12))\n    \n    # Invoice Items Table\n    data = [['Item', 'Description', 'Quantity', 'Unit Price', 'Total']]\n    total_amount = 0\n    \n    for item in invoice_items:\n        line_total = item['quantity'] * item['unit_price']\n        total_amount += line_total\n        data.append([\n            item['name'], \n            item['description'], \n            str(item['quantity']), \n            f\"${item['unit_price']:.2f}\", \n            f\"${line_total:.2f}\"\n        ])\n    \n    # Add total row\n    data.append(['', '', '', 'Total:', f\"${total_amount:.2f}\"])\n    \n    # Create table\n    table = Table(data, colWidths=[100, 200, 50, 75, 75])\n    table.setStyle(TableStyle([\n        ('BACKGROUND', (0,0), (-1,0), colors.grey),\n        ('TEXTCOLOR', (0,0), (-1,0), colors.whitesmoke),\n        ('ALIGN', (0,0), (-1,-1), 'CENTER'),\n        ('FONTNAME', (0,0), (-1,0), 'Helvetica-Bold'),\n        ('FONTSIZE', (0,0), (-1,0), 12),\n        ('BOTTOMPADDING', (0,0), (-1,0), 12),\n        ('BACKGROUND', (0,1), (-1,-1), colors.beige),\n        ('GRID', (0,0), (-1,-1), 1, colors.black)\n    ]))\n    \n    elements.append(table)\n    \n    # Build PDF\n    doc.build(elements)\n    \n    print(f\"Invoice created: {pdf_filename}\")\n\n# Example usage\ncustomer_info = {\n    'name': 'John Doe',\n    'address': '123 Business St, Cityville, State 12345',\n    'email': 'john.doe@example.com'\n}\n\ninvoice_items = [\n    {\n        'name': 'Consulting Service',\n        'description': 'Web Development Consultation',\n        'quantity': 10,\n        'unit_price': 150.00\n    },\n    {\n        'name': 'Design Work',\n        'description': 'UI/UX Design',\n        'quantity': 5,\n        'unit_price': 200.00\n    }\n]\n\n# Make sure to replace with your actual logo path\ncreate_invoice(customer_info, invoice_items, 'path/to/your/logo.png')\n```\n\nTo use this script, you'll need to:\n\n1. Install ReportLab:\n```bash\npip install reportlab\n```\n\n2. Replace `'path/to/your/logo.png'` with the actual path to your company logo.\n\n3. Customize the `customer_info` and `invoice_items` with your specific details.\n\nThis script will:\n- Create a professional PDF invoice\n- Include your company logo\n- Show customer details\n- Create an itemized table with quantities and prices\n- Calculate and display the total amount\n- Use a clean, professional layout\n\nThe invoice will be saved with the current date in the filename.\n\nKey features:\n- Flexible item listing\n- Automatic total calculation\n- Styled table with color coding\n- Date-stamped filename\n\nWould you like me to explain any part of the code or help you customize it further?",
  "skill_response": "I'll provide a comprehensive example using reportlab to create a professional PDF invoice with styling, logo, customer details, and an itemized table.\n\n```python\nimport os\nfrom reportlab.lib.pagesizes import letter\nfrom reportlab.platypus import SimpleDocTemplate, Table, TableStyle, Paragraph, Spacer\nfrom reportlab.lib.styles import getSampleStyleSheet, ParagraphStyle\nfrom reportlab.lib.units import inch\nfrom reportlab.lib import colors\nfrom reportlab.graphics.shapes import Drawing\nfrom reportlab.graphics.barcode import qr\n\nclass InvoiceGenerator:\n    def __init__(self, company_logo_path):\n        self.styles = getSampleStyleSheet()\n        self.company_logo_path = company_logo_path\n        \n        # Custom styles\n        self.styles.add(ParagraphStyle(\n            name='CompanyName',\n            parent=self.styles['Heading1'],\n            fontSize=16,\n            textColor=colors.dark blue\n        ))\n        \n        self.styles.add(ParagraphStyle(\n            name='InvoiceHeader',\n            parent=self.styles['Normal'],\n            fontSize=10,\n            textColor=colors.gray\n        ))\n\n    def create_invoice(self, output_path, invoice_data):\n        doc = SimpleDocTemplate(\n            output_path, \n            pagesize=letter, \n            rightMargin=72, \n            leftMargin=72, \n            topMargin=72, \n            bottomMargin=18\n        )\n        \n        # Story will contain all elements of the PDF\n        story = []\n        \n        # Company Header\n        story.extend(self._create_header(invoice_data))\n        \n        # Customer and Invoice Details\n        story.extend(self._create_invoice_details(invoice_data))\n        \n        # Itemized Table\n        story.append(self._create_item_table(invoice_data['items']))\n        \n        # Totals Section\n        story.extend(self._create_totals(invoice_data))\n        \n        # Add QR Code for verification\n        story.append(self._create_qr_code(invoice_data))\n        \n        # Add Payment Instructions\n        story.extend(self._create_payment_instructions())\n        \n        # Build PDF\n        doc.build(story)\n\n    def _create_header(self, invoice_data):\n        elements = []\n        \n        # Company Logo (if exists)\n        if os.path.exists(self.company_logo_path):\n            from reportlab.platypus import Image\n            logo = Image(self.company_logo_path, width=2*inch, height=1*inch)\n            logo.hAlign = 'LEFT'\n            elements.append(logo)\n        \n        # Company Name\n        elements.append(Paragraph(\n            invoice_data['company_name'], \n            self.styles['CompanyName']\n        ))\n        \n        # Company Contact Info\n        elements.append(Paragraph(\n            f\"{invoice_data['company_address']}<br/>\" +\n            f\"Phone: {invoice_data['company_phone']}<br/>\" +\n            f\"Email: {invoice_data['company_email']}\",\n            self.styles['InvoiceHeader']\n        ))\n        \n        elements.append(Spacer(1, 12))\n        return elements\n\n    def _create_invoice_details(self, invoice_data):\n        elements = []\n        \n        # Invoice Details\n        details = [\n            [\n                Paragraph('<b>INVOICE TO:</b>', self.styles['Heading4']),\n                Paragraph('<b>INVOICE DETAILS:</b>', self.styles['Heading4'])\n            ],\n            [\n                Paragraph(\n                    f\"{invoice_data['customer_name']}<br/>\" +\n                    f\"{invoice_data['customer_address']}<br/>\" +\n                    f\"Phone: {invoice_data['customer_phone']}\",\n                    self.styles['Normal']\n                ),\n                Paragraph(\n                    f\"Invoice #: {invoice_data['invoice_number']}<br/>\" +\n                    f\"Date: {invoice_data['invoice_date']}<br/>\" +\n                    f\"Due Date: {invoice_data['due_date']}\",\n                    self.styles['Normal']\n                )\n            ]\n        ]\n        \n        details_table = Table(details, colWidths=[3*inch, 3*inch])\n        details_table.setStyle(TableStyle([\n            ('BACKGROUND', (0,0), (-1,0), colors.lightgrey),\n            ('TEXTCOLOR', (0,0), (-1,0), colors.black),\n            ('ALIGN', (0,0), (-1,-1), 'LEFT'),\n            ('FONTNAME', (0,0), (-1,0), 'Helvetica-Bold'),\n            ('FONTSIZE', (0,0), (-1,0), 12),\n            ('BOTTOMPADDING', (0,0), (-1,0), 12),\n            ('BACKGROUND', (0,1), (-1,-1), colors.white),\n            ('GRID', (0,0), (-1,-1), 1, colors.black)\n        ]))\n        \n        elements.append(details_table)\n        elements.append(Spacer(1, 12))\n        return elements\n\n    def _create_item_table(self, items):\n        # Prepare table data\n        table_data = [\n            ['Item Description', 'Quantity', 'Unit Price', 'Total']\n        ]\n        \n        total = 0\n        for item in items:\n            item_total = item['quantity'] * item['unit_price']\n            total += item_total\n            table_data.append([\n                item['description'], \n                str(item['quantity']), \n                f\"${item['unit_price']:.2f}\", \n                f\"${item_total:.2f}\"\n            ])\n        \n        # Create table\n        item_table = Table(table_data, colWidths=[3*inch, 1*inch, 1*inch, 1*inch])\n        item_table.setStyle(TableStyle([\n            ('BACKGROUND', (0,0), (-1,0), colors.lightgrey),\n            ('TEXTCOLOR', (0,0), (-1,0), colors.black),\n            ('ALIGN', (0,0), (-1,-1), 'LEFT'),\n            ('FONTNAME', (0,0), (-1,0), 'Helvetica-Bold'),\n            ('FONTSIZE', (0,0), (-1,0), 12),\n            ('BOTTOMPADDING', (0,0), (-1,0), 12),\n            ('BACKGROUND', (0,1), (-1,-1), colors.white),\n            ('GRID', (0,0), (-1,-1), 1, colors.black)\n        ]))\n        \n        return item_table\n\n    def _create_totals(self, invoice_data):\n        elements = []\n        \n        # Totals calculation\n        subtotal = sum(item['quantity'] * item['unit_price'] for item in invoice_data['items'])\n        tax = subtotal * invoice_data.get('tax_rate', 0)\n        total = subtotal + tax\n        \n        totals = [\n            ['Subtotal', f\"${subtotal:.2f}\"],\n            ['Tax', f\"${tax:.2f}\"],\n            ['Total', f\"${total:.2f}\"]\n        ]\n        \n        totals_table = Table(totals, colWidths=[3*inch, 1*inch])\n        totals_table.setStyle(TableStyle([\n            ('ALIGN', (0,0), (-1,-1), 'RIGHT'),\n            ('FONTNAME', (0,-1), (-1,-1), 'Helvetica-Bold'),\n            ('FONTSIZE', (0,-1), (-1,-1), 12),\n            ('TEXTCOLOR', (0,-1), (-1,-1), colors.red)\n        ]))\n        \n        elements.append(totals_table)\n        elements.append(Spacer(1, 12))\n        return elements\n\n    def _create_qr_code(self, invoice_data):\n        # Create QR code with invoice details\n        qr_code = qr.QrCodeWidget(\n            f\"Invoice #{invoice_data['invoice_number']} \" +\n            f\"Total: ${invoice_data['total']:.2f}\"\n        )\n        bounds = qr_code.getBounds()\n        d = Drawing(45, 45)\n        d.add(qr_code)\n        d.width = bounds[2] - bounds[0]\n        d.height = bounds[3] - bounds[1]\n        \n        return d\n\n    def _create_payment_instructions(self):\n        elements = []\n        elements.append(Paragraph(\n            '<b>Payment Instructions:</b>', \n            self.styles['Heading4']\n        ))\n        elements.append(Paragraph(\n            \"Please make payment within 30 days. \" +\n            \"Make checks payable to: [Your Company Name]<br/>\" +\n            \"For online payment, visit: www.yourcompany.com/pay\",\n            self.styles['Normal']\n        ))\n        return elements\n\n# Example Usage\nif __name__ == '__main__':\n    invoice_data = {\n        'company_name': 'Tech Solutions Inc.',\n        'company_address': '123 Tech Lane, Silicon Valley, CA 94000',\n        'company_phone': '(555) 123-4567',\n        'company_email': 'billing@techsolutions.com',\n        \n        'customer_name': 'Acme Corporation',\n        'customer_address': '456 Business Road, New York, NY 10001',\n        'customer_phone': '(888) 987-6543',\n        \n        'invoice_number': 'INV-2023-0001',\n        'invoice_date': '2023-06-15',\n        'due_date': '2023-07-15',\n        \n        'items': [\n            {\n                'description': 'Web Development Services',\n                'quantity': 40,\n                'unit_price': 150.00\n            },\n            {\n                'description': 'Cloud Hosting Setup',\n                'quantity': 1,\n                'unit_price': 500.00\n            }\n        ],\n        \n        'tax_rate': 0.08,\n        'total': 6500.00\n    }\n\n    generator = InvoiceGenerator('company_logo.png')\n    generator.create_invoice('invoice.pdf', invoice_data)\n    print(\"Invoice generated successfully!\")\n```\n\nThis script provides a comprehensive solution for generating professional PDF invoices with:\n\n1. Company Logo\n2. Detailed Header with Contact Information\n3. Customer and Invoice Details\n4. Itemized Table with Formatting\n5. Totals Calculation (Subtotal, Tax, Total)\n6. QR Code for Invoice Verification\n7. Payment Instructions\n\nKey Features:\n- Flexible and customizable\n- Professional styling\n- Automatic calculations\n- QR code for tracking\n- Modular design\n\nTo use:\n1. Install reportlab: `pip install reportlab`\n2. Prepare your company logo\n3. Customize the invoice_data dictionary\n4. Run the script\n\nRecommended Enhancements:\n- Add more robust error handling\n- Support for multiple currencies\n- Integration with accounting systems\n- Digital signature option\n\nWould you like me to elaborate on any specific aspect of invoice generation?",
  "verdict": "skill",
  "reasoning": "Response B is significantly more comprehensive and professional. While both responses provide working code for PDF invoice generation using reportlab, Response B offers a complete object-oriented solution with superior features: a proper class structure, custom styling with ParagraphStyle, professional header layout with company details, comprehensive invoice details section, tax calculations, QR code integration for verification, payment instructions, and better table formatting. Response B also demonstrates better software engineering practices with modular design and separation of concerns. Response A, while functional, is more basic with a simple procedural approach and lacks many professional invoice features like tax calculations, QR codes, and comprehensive styling. Response B provides a production-ready solution that would create truly professional invoices, making it significantly more valuable for users who want a complete invoice generation system.",
  "baseline_tokens": 1273,
  "skill_tokens": 5045,
  "position_a": "baseline",
  "position_b": "skill",
  "judge_model": "claude-sonnet-4-20250514",
  "judged_at": "2026-01-11T13:53:40.095140Z"
}