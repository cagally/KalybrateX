{
  "prompt": "I have a working skill but it's getting too long and cluttered - the main file is over 800 lines and covers like 6 different workflows. How should I reorganize it?",
  "baseline_response": "Here are some strategies for reorganizing a large, complex skill file:\n\n1. Modularize by Workflow\n- Create separate Python files for each major workflow\n- Use a main skill file that imports and manages these modules\n- Each module handles its specific workflow logic\n\nExample structure:\n```\n/skill\n  /__init__.py      # Main skill entry point\n  /workflows/\n    __init__.py\n    shopping_workflow.py\n    calendar_workflow.py\n    reminder_workflow.py\n  /utils/\n    helpers.py\n    validators.py\n```\n\n2. Extract Shared Components\n- Move common helper functions to a separate utility module\n- Create base classes for shared logic\n- Use inheritance or composition to reduce code duplication\n\n3. Use Class-Based Organization\n- Break skill into logical classes\n- Each class handles a specific domain or workflow\n- Implement clear method responsibilities\n\n4. Implement Dependency Injection\n- Pass dependencies as arguments\n- Makes code more modular and testable\n- Reduces tight coupling between components\n\n5. Consider State Management\n- Use a state machine or context object\n- Cleanly track workflow progression\n- Simplify complex conditional logic\n\nWould you like me to elaborate on any of these approaches?",
  "skill_response": "Great question! When a skill grows beyond ~500 lines or covers multiple distinct workflows, it's time to refactor using the Progressive Disclosure design principle we discussed. Here's a recommended reorganization strategy:\n\n### Recommended Restructuring Approach\n\n1. **Create a Main SKILL.md**\n   - Keep it as a high-level overview and navigation guide\n   - Include a clear table of contents\n   - Provide brief descriptions of each workflow\n   - Link to specific workflow references\n\n2. **Split Workflows into Separate Reference Files**\n\nExample structure:\n```\nskill-name/\n├── SKILL.md           # High-level overview, navigation\n└── references/\n    ├── workflow1.md   # Detailed guide for first workflow\n    ├── workflow2.md   # Detailed guide for second workflow\n    ├── workflow3.md   # Detailed guide for third workflow\n    └── common.md      # Shared resources or utilities\n```\n\n### Sample Restructured SKILL.md\n\n```markdown\n# Complex Skill Name\n\n## Overview\nThis skill supports multiple workflows for [domain/purpose].\n\n## Workflows\n\n### 1. Workflow One\nQuick description. [Full details in workflow1.md](references/workflow1.md)\n\n### 2. Workflow Two\nQuick description. [Full details in workflow2.md](references/workflow2.md)\n\n### 3. Workflow Three\nQuick description. [Full details in workflow3.md](references/workflow3.md)\n\n## Common Resources\nShared utilities and references are in [common.md](references/common.md)\n\n## How to Choose a Workflow\n[Brief guidance on workflow selection]\n```\n\n### Benefits of This Approach\n- Keeps the main SKILL.md lean and navigable\n- Allows Claude to load only the relevant workflow details\n- Makes the skill more modular and easier to maintain\n- Prevents context window overload\n- Provides clear navigation for users and Claude\n\n### Implementation Steps\n1. Create the `references/` directory\n2. Split existing long file into workflow-specific files\n3. Update SKILL.md to provide navigation\n4. Ensure each reference file has a clear structure\n5. Run `package_skill.py` to validate the new structure\n\n### Workflow Reference File Template\n\n```markdown\n# Workflow Name\n\n## Purpose\nClear, concise description of this specific workflow\n\n## Triggers\nWhen to use this specific workflow\n\n## Detailed Steps\n1. Step one\n2. Step two\n3. Step three\n\n## Examples\n- Concrete example 1\n- Concrete example 2\n\n## Variations or Edge Cases\n- Handling specific scenarios\n- Alternative approaches\n\n## Related References\n- Links to other relevant workflow files\n- Links to common resources\n```\n\n### Pro Tips\n- Keep individual reference files under 300-400 lines\n- Use clear, descriptive file and section names\n- Always link between related references\n- Maintain a consistent structure across reference files\n\nWould you like me to help you draft a restructuring plan for your specific skill?",
  "verdict": "skill",
  "reasoning": "Response B is significantly better because it directly addresses Claude Code's specific SKILL.md architecture and file organization patterns, while Response A provides generic Python code organization advice that doesn't apply to Claude Code skills. Response B demonstrates deep understanding of Claude Code's skill system with specific guidance on SKILL.md structure, the references/ directory pattern, Progressive Disclosure principles, and even mentions Claude Code-specific tools like package_skill.py. It provides actionable templates, concrete file structures, and practical implementation steps tailored to the user's actual problem of reorganizing an 800-line SKILL.md file. Response A's suggestions about Python modules, classes, and dependency injection are not relevant to Claude Code's markdown-based skill system.",
  "baseline_tokens": 323,
  "skill_tokens": 4790,
  "position_a": "baseline",
  "position_b": "skill",
  "judge_model": "claude-sonnet-4-20250514",
  "judged_at": "2026-01-11T17:53:15.320640Z"
}